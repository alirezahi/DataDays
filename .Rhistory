rm(list=ls())
setwd("~/Documents/datadays/")
td = read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 100)
aa <- td %>% filter(cat1 == "vehicles") %>% group_by(city) %>% summarise(COUNT = sum(1))
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td = read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 100)
only_vehicles <- td %>% filter(cat1 == "vehicles")
grouped <- group_by(city) %>% summarise(COUNT = sum(1))
grouped <- only_vehicles %>% group_by(city) %>% summarise(COUNT = sum(1))
View(grouped)
grouped <- only_vehicles %>% group_by(city) %>% summarise(COUNT = n())
grouped <- only_vehicles %>% group_by(city) %>% summarise(COUNT = count())
grouped <- only_vehicles %>% group_by(city) %>% summarise(COUNT = sum())
View(grouped)
grouped <- only_vehicles %>% group_by(city)
View(grouped)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td = read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 100)
only_vehicles <- td %>% filter(cat1 == "vehicles")
grouped <- only_vehicles %>% group_by(city)
View(only_vehicles)
td = read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
only_vehicles <- td %>% filter(cat2 == "car")
View(only_vehicles)
only_vehicles <- td %>% filter(cat2 == "car")
View(only_vehicles)
View(td)
only_vehicles <- td %>% filter(cat2 == "cars")
View(only_vehicles)
View(only_vehicles)
only_vehicles %>% group_by(city) %>% n()
only_vehicles %>% group_by(city) %>% count()
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrow = 100)
only_vehicles <- td %>% filter(cat2 == "cars")
grouped <- only_vehicles %>% group_by(city) %>% n()
df2 <- count(x, c('Year','Month'))
df2 <- count(only_vehicles, 'city')
View(df2)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrow = 100)
only_cars <- td %>% filter(cat2 == "cars")
all_counts <- count(td, 'city')
cars_counts <- count(only_cars, 'city')
View(all_counts)
View(cars_counts)
View(all_counts)
View(all_counts)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F) %>% filter(city == "Karaj" | city == "Tabriz" | city = "Shiraz" | city = "Ahvaz")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
td <- td %>% filter(city == "Karaj" | city == "Tabriz" | city == "Shiraz" | city == "Ahvaz")
only_cars <- td %>% filter(cat2 == "cars")
all_counts <- count(td, 'city')
cars_counts <- count(only_cars, 'city')
View(all_counts)
View(cars_counts)
result <- all_counts / cars_counts
result <- cars_counts$freq / all_counts$freq
result <- cars_counts$freq / all_counts$freq
View(result)
full_join(all_counts, cars_counts)
cbind(all_counts, cars_counts)
merge(all_counts, cars)
merge(all_counts, cars_counts, by=city)
merge(x = all_counts, y = cars_counts, by="city")
merge(x = all_counts, y = cars_counts, by="city") %>% cbind(all_counts, cars_counts) %>% mutate(result = freq.y / freq.x)
merge(x = all_counts, y = cars_counts, by="city") %>% mutate(result = freq.y / freq.x)
View(td)
View(td)
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
View(td)
View(td)
class(td[1,]$created_at)
(td[1,]$created_at
td[1,]$created_at
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 300)
td <- td %>% filter(cat1 == "electronic-devices")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 300)
pc <- td %>% filter(cat1 == "electronic-devices")
View(pc)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 = "computers")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 300)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers")
View(pc)
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 1000)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers")
View(pc)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 = "desktops")
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
View(pc)
View(td)
saz <- td %>% filter(cat1 === "leisure-hobbies" & cat2 == "musical-instruments")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments")
View(saz)
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpet")
View(farsh)
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
View(farsh)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
View(pc)
View(saz)
View(farsh)
View(kafsh)
agrepl("Wednesday AM", "Wednesday 10PM")
grepl("Wednesday .+.*AM", "Wednesday 10PM")
grepl("Wednesday .+.*AM", "Wednesday 10AM")
grepl("Wednesday [0-9]*AM", "Wednesday 10AM")
grepl("Wednesday [0-9]*AM", "Wednesday 10PM")
grepl("Wednesday [0-9]*AM", "Wednesday 10AM")
grepl("Wednesday [0-9]*AM", "Wednesday10AM")
grepl("Wednesday [0-9]*AM", "Wednesday 10AM")
grepl("Wednesday [0-9]*PM", "Wednesday 10AM")
grepl("Wednesday [0-9]*PM", "Wednesday 10AM")
grepl("Wednesday [0-9]*PM", "Wednesday 10PM")
grepl("Wednesday [0-9]*PM", pc$created_at)
grepl("Wednesday [0-9]*PM", saz$created_at)
saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
saz[grepl("Wednesday [0-9]*PM", saz$created_at),] %>% View
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
tسd <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 1000)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 1000)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
View(pc_pm)
View(saz_pm)
nrow(pc_pm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(stringdist)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 1000)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
nrow(pc_pm)
nrow(saz_pm)
nrow(farsh_pm)
nrow(kafsh_pm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 1000)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
nrow(pc_pm)
nrow(saz_pm)
nrow(farsh_pm)
nrow(kafsh_pm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
nrow(pc_pm)
nrow(saz_pm)
nrow(farsh_pm)
nrow(kafsh_pm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
View(td)
View(td)
only_cars_mvm <- td %>% filter(cat2 == "cars")
View(only_cars_mvm)
only_carmvms_mvm <- td %>% filter(cat2 == "cars", brand == "امویام::MVM")
View(only_carmvms_mvm)
only_carmvms_mvm <- td %>% filter(cat2 == "cars", brand == "ام وی ام::MVM")
View(only_carmvms_mvm)
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
View(td)
only_car <- td %>% filter(cat2 == "cars")
View(only_car)
only_car <- td %>% filter(cat2 == "cars" & brand == "امویام::MVM")
View(only_car)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
View(only_cars)
View(only_cars_mvm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
nrow(only_cars_mvm)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
nrow(only_cars_mvm)
View(only_cars_mvm)
only_cars_mvm_price <- only_cars_mvm %>% filter( price <= 0)
View(only_cars_mvm_price)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
only_cars_mvm_price <- only_cars_mvm %>% filter( price <= 0)
nrow(only_cars_mvm_price)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
desc_text <- td %>% select(id,desc)
View(desc_text)
desc_text <- td %>% select(X,desc)
View(desc_text)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(id, word) %>%
summarise(count = n())
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n())
View(desc_text)
desc_text.words <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n())
rlang::last_error()
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word)
View(token_distribution)
token_distribution %>% summarise(count = n())
n()
library(devtools)
token_distribution %>% summarise(count = n())
count(token_distribution, 'word')
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word)
token_distribution %>% summarise(count = n())
detach("package:plyr", unload=TRUE)
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
desc_text <- td %>% select(X,desc)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word)
token_distribution %>% summarise(count = n())
# in the name of god
library(dplyr)
library(tidytext)
library(devtools)
library(RecordLinkage)
library(tidyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F, nrows = 3000)
desc_text <- td %>% select(X,desc)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n())
View(token_distribution)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n()) %>%
arrange(count)
View(token_distribution)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n()) %>%
arrange(desc(count))
View(token_distribution)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n()) %>%
arrange(X,desc(count))
View(token_distribution)
token_distribution_tf_idf <- token_distribution %>%
bind_tf_idf(word, X, count) %>%
arrange(X, desc(tf_idf))
View(token_distribution_tf_idf)
token_distribution_tf_idf <- token_distribution %>%
bind_tf_idf(word, X, count) %>%
arrange(count, desc(tf_idf))
View(token_distribution_tf_idf)
token_distribution_tf_idf <- token_distribution %>%
bind_tf_idf(word, X, count) %>%
arrange(desc(count), desc(tf_idf))
View(token_distribution_tf_idf)
desc_text <- td %>% select(X,desc)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(X, word) %>%
summarise(count = n()) %>%
arrange(X,desc(count))
token_distribution_tf_idf <- token_distribution %>%
bind_tf_idf(word, X, count) %>%
arrange(X, desc(tf_idf))
View(token_distribution_tf_idf)
token_distribution <- desc_text %>%
unnest_tokens(word, desc) %>%
group_by(word) %>%
summarise(count = n()) %>%
arrange(desc(count))
View(token_distribution)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
only_cars_mvm_price <- only_cars_mvm %>% filter( price <= 0)
nrow(only_cars_mvm_price)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
only_cars <- td %>% filter(cat2 == "cars")
only_cars_mvm <- only_cars[grepl("MVM*", only_cars$brand),]
only_cars_mvm_price <- only_cars_mvm %>% filter( price <= 0)
nrow(only_cars_mvm_price)
View(only_cars_mvm_price)
# in the name of god
library(dplyr)
library(tidytext)
library(RecordLinkage)
library(tidyr)
library(plyr)
library(stringr)
rm(list=ls())
setwd("~/Documents/datadays/")
td <- read.csv("Data/divar_posts_dataset.csv", stringsAsFactors = F)
pc <- td %>% filter(cat1 == "electronic-devices" & cat2 == "computers" & cat3 == "desktops")
saz <- td %>% filter(cat1 == "leisure-hobbies" & cat2 == "musical-instruments" & cat3 == "traditional")
farsh <- td %>% filter(cat1 == "for-the-home" & cat2 == "furniture-and-home-decore" & cat3 == "carpets")
kafsh <- td %>% filter(cat1 == "personal" & cat2 == "clothing-and-shoes" & cat3 == "shoes-belt-bag")
pc_pm <- pc[grepl("Wednesday [0-9]*PM", pc$created_at),]
saz_pm <- saz[grepl("Wednesday [0-9]*PM", saz$created_at),]
farsh_pm <- farsh[grepl("Wednesday [0-9]*PM", farsh$created_at),]
kafsh_pm <- kafsh[grepl("Wednesday [0-9]*PM", kafsh$created_at),]
nrow(pc_pm)
nrow(saz_pm)
nrow(farsh_pm)
nrow(kafsh_pm)
